<?xml version="1.0" encoding="utf-8"?>
<openerp>
  <data>

    <!-- SIMPLIFIED PROJECT VIEW -->
    <record id="project_form_works_simpl" model="ir.ui.view">
      <field name="name">project.form.work.simpl</field>
      <field name="model">project.project</field>
      <field name="inherit_id" ref="project.project_project_view_form_simplified"/>
      <field name="arch" type="xml">
        <xpath expr="//sheet" position="replace">
          <sheet>
            <group>
              <group>
                <field name="name"
                    string="Project Name" placeholder="e.g. Office Party" required="1"/>
                <field name="partner_id" string="Customer" required="1"/>
                <label for="alias_name" string="Choose a Project Email" attrs="{'invisible': [('alias_domain', '=', False)]}"/>
                <div name="alias_def" attrs="{'invisible': [('alias_domain', '=', False)]}">
                    <field name="alias_name" class="oe_inline"/>@<field name="alias_domain" class="oe_inline" readonly="1"/>
                </div>
              </group>
              <group>
                <field name="work_code" required="1"/>
              </group>
            </group>
            <footer>
                <button string="Create" name="close_dialog" type="object" class="btn-primary"/>
                <button string="Discard" class="btn-default" special="cancel"/>
            </footer>
          </sheet>
        </xpath>
      </field>
    </record>

    <!-- EDIT PROJECT VIEW -->
    <record id="project_form_works" model="ir.ui.view">
      <field name="name">project.form.work</field>
      <field name="model">project.project</field>
      <field name="inherit_id" ref="project.edit_project"/>
      <field name="arch" type="xml">

        <xpath expr="//div[@class='oe_title']" position="after">
          <group>
            <group>
              <field name="work_code" required="1"/>
              <field name="email" widget="email" required="1"/>
              <field name="work_date_creation" required="1"/>
              <field name="invoice_limit_date" required="1"/>
            </group>
            <group>
              <field name="user_id" string="Project Manager"
                attrs="{'readonly':[('active','=',False)]}" required="1"/>
              <field name="partner_id" string="Customer" required="1"/>
              <field name="partner_code" string="Partner Code" readonly="1"/>
            </group>
          </group>
        </xpath>

        <xpath expr="//notebook" position="replace">
          <notebook>
            <page name="Address" string="Address">
              <group>
                <group string="Shipping Address">
                  <div class="o_address_format">
                    <field name="street1" placeholder="Street..."
                      class="o_address_street" required="1"/>
                    <field name="street1_2" placeholder="Street 2..."
                      class="o_address_street" required="1"/>
                    <field name="city" placeholder="City"
                      class="o_address_city" required="1"/>
                    <field name="municipality_id" class="o_address_state"
                      placeholder="Municipality" options='{"no_open": True}'
                           required="1"/>
                    <field name="state_id" class="o_address_state"
                      placeholder="State" options='{"no_open": True}'
                           required="1"/>
                    <field name="zip" placeholder="ZIP" class="o_address_zip"
                           required="1"/>
                    <field name="country_id" placeholder="Country"
                      class="o_address_country"
                      options='{"no_open": True, "no_create": True}'
                           required="1"/>
                  </div>
                </group>
                <group string="Invoice Address">
                  <div class="o_address_format">
                    <field name="street2_1" placeholder="Street..."
                      class="o_address_street" required="1"/>
                    <field name="street2_2" placeholder="Street 2..."
                      class="o_address_street" required="1"/>
                    <field name="city2" placeholder="City"
                      class="o_address_city" required="1"/>
                    <field name="municipality2_id" class="o_address_state"
                      placeholder="Municipality" options='{"no_open": True}' required="1"/>
                    <field name="state2_id" class="o_address_state"
                      placeholder="State" options='{"no_open": True}' required="1"/>
                    <field name="zip2" placeholder="ZIP" class="o_address_zip" required="1"/>
                    <field name="country2_id" placeholder="Country"
                      class="o_address_country"
                      options='{"no_open": True, "no_create": True}' required="1"/>
                  </div>
                </group>
              </group>
            </page>
            <page name="contact Work information" string="contact Work information">
              <group>
                <group string="contact" required="1">
                  <field name="legal_cont_responsible" required="1"/>
                  <field name="contact_number" required="1"/>
                  <field name="work_phone" required="1"/>
                </group>
                <group string="Responsibles">
                  <field name="work_responsible" required="1"/>
                  <field name="work_resident" required="1"/>
                  <field name="work_storer" required="1"/>
                  <field name="work_contact" required="1"/>
                  <field name="work_interventor" required="1"/>
                  <field name="interventor_phone" required="1"/>
                </group>
              </group>
              <group>
                <group string="Work Owner">
                  <field name="work_owner" required="1"/>
                  <field name="owner_phone" required="1"/>
                </group>
              </group>
            </page>
            <page name="observations" string="Observations">
              <field name="observations" type="html" required="1"/>
              <div class="oe_clear"/>
            </page>
            <page string="Settings">
              <group>
                <field name="privacy_visibility" widget="radio" required="1"/>
              </group>
              <group name="misc">
                <group string="Configuration" groups="base.group_no_one">
                  <field name="sequence" groups="base.group_no_one"/>
                </group>
                <group string="Time Scheduling" groups="base.group_no_one">
                  <field name="resource_calendar_id" groups="base.group_no_one" required="1"/>
                </group>
              </group>
            </page>
            <page string="Emails" attrs="{'invisible': [('alias_domain', '=', False)]}">
              <group name="group_alias">
                <label for="alias_name" string="Email Alias"/>
                <div name="alias_def">
                  <field name="alias_id" class="oe_read_only oe_inline"
                      string="Email Alias" required="0"/>
                  <div class="oe_edit_only oe_inline" name="edit_alias" style="display: inline;" >
                      <field name="alias_name" class="oe_inline"/>@<field name="alias_domain" class="oe_inline" readonly="1"/>
                  </div>
                </div>
                <field name="alias_contact" class="oe_inline oe_edit_only"
                      string="Accept Emails From"/>
              </group>
            </page>
          </notebook>
        </xpath>

      </field>
    </record>


    </data>
</openerp>

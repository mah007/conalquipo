<?xml version="1.0" encoding="utf-8"?>
    <odoo>
        <record model="ir.ui.view" id="fleet_vehicle_view_form_inherit">
              <field name="name">fleet.vehicle.form</field>
              <field name="inherit_id" ref="fleet.fleet_vehicle_view_form"/>
              <field name="model">fleet.vehicle</field>
              <field name="arch" type="xml">
                   <xpath expr="//field[@name='driver_id']" position="before">
                       <field name="holder"/>
                   </xpath>
                   <xpath expr="//field[@name='vin_sn']" position="before">
                       <field name="num_motor"/>
                   </xpath>
                   <xpath expr="//field[@name='seats']" position="before">
                       <field name="type"/>
                       <field name="capacity"/>
                   </xpath>
                   <xpath expr="//field[@name='color']" position="after">
                       <field name="mark"/>
                       <field name="model"/>
                       <field name="reference"/>
                   </xpath>
                   <xpath expr="//group[2]/group[2]" position="after">
                       <group name="bearing_information" colspan="2">
                            <group string="Bearing information">
                                <field name="traffic" />
                                <field name="licence_date" />
                                <field name="soat" />
                                <field name="tec_mechanic" />
                                <field name="gravamen" />
                                <field name="bearing" />
                                <field name="affiliation" />
                            </group>
                        </group>
                   </xpath>
              </field>
        </record>

        <record model="ir.ui.view" id="view_delivery_carrier_form_inherit">
              <field name="name">delivery.carrier.form</field>
              <field name="inherit_id" ref="delivery.view_delivery_carrier_form"/>
              <field name="model">delivery.carrier</field>
              <field name="arch" type="xml">
                  <xpath expr="//field[@name='state_ids']" position="after">
                       <field name="municipality_ids" widget="many2many_tags"/>
                   </xpath>
                   <xpath expr="//page[2]" position="after">
                        <page string="Cost for Vehicle" name="vehicle">
                            <group>
                                <group>
                                    <field name="delivery_carrier_cost" mode="tree" nolabel="1">
                                         <tree editable="bottom">
                                             <field name="vehicle"/>
                                             <field name="cost"/>
                                         </tree>
                                    </field>
                                </group>
                            </group>
                        </page>
                  </xpath>
              </field>
        </record>

        <record model="ir.ui.view" id="view_order_form_inherit">
             <field name="name">sale.order.form</field>
             <field name="inherit_id" ref="sale.view_order_form"/>
             <field name="model">sale.order</field>
             <field name="arch" type="xml">
               <field name="payment_term_id" position="after">
                 <field name="carrier_type" widget="radio"  attrs="{'readonly':[('state','not in',('draft','sent'))]}"/>
               </field>
             </field>
        </record>

        <record id="view_order_form_with_carrier_inherit" model="ir.ui.view">
            <field name="name">delivery.sale.order.form.view.with_carrier</field>
            <field name="model">sale.order</field>
            <field name="inherit_id" ref="delivery.view_order_form_with_carrier"/>
            <field name="arch" type="xml">
                <data>
                    <xpath expr="//label[@for='carrier_id']" position="replace" />
                    <xpath expr="//div[@name='carrier_selection']" position="replace" />
                    <xpath expr="//field[@name='payment_term_id']" position="after">
                        <field name="carrier_id" context="{'order_id': id}"
                           attrs="{'readonly':[('state','not in',('draft','sent'))],
                                   'invisible': [('carrier_type','!=', 'company')]}"/>
                        <field name="vehicle" attrs="{'readonly':[('state','not in',('draft','sent'))],
                         'invisible': [('carrier_type','!=', 'company')]}" string="Vehicle"/>

                        <field name='delivery_price' widget='monetary' class="oe_inline " style="float:right;" options="{'currency_field': 'currency_id'}" nolabel="1"
                               attrs="{'invisible': ['|',('carrier_id','=', False), ('carrier_type', '!=', 'company')]}"/>
                        <button name="set_delivery_line" string="Set price" type="object" class="oe_inline fa fa-arrow-right oe_link"
                                    attrs="{'invisible':['|', '|', ('carrier_id','=',False),('state','not in',('draft','sent')), ('carrier_type', '!=', 'company')]}"/>
                    </xpath>
                </data>
            </field>
        </record>

       <record id="view_picking_withcarrier_out_form_inherit" model="ir.ui.view">
            <field name="name">delivery.stock.picking_withcarrier.form.view.inherit</field>
            <field name="model">stock.picking</field>
            <field name="inherit_id" ref="delivery.view_picking_withcarrier_out_form"/>
            <field name="arch" type="xml">
                <data>
                    <xpath expr="//field[@name='carrier_id']" position="replace" />

                    <xpath expr="//label[@for='tracking_ref']" position="replace"/>

                    <xpath expr="//field[@name='tracking_ref']" position="replace"/>

                    <xpath expr="//div[@name='tracking']" position="replace"/>

                    <xpath expr="//label[@for='weight']" position="replace"/>

                    <xpath expr="//separator[1]" position="replace"/>

                    <xpath expr="//field[@name='weight']" position="replace" />

                    <xpath expr="//field[@name='weight_uom_id']" position="replace" />

                    <xpath expr="//field[@name='shipping_weight']" position="replace" />

                    <xpath expr="//field[@name='number_of_packages']" position="replace" />

                    <xpath expr="//page[@name='extra']" position="after">
                          <page name='info_shipping' string="Info Shipping">
                              <group>
                                  <group col="2">
                                      <field name="type_sp"  invisible="1"/>
                                      <field name="location_id" />

                                      <field name="tracking_ref"/>

                                      <field name="carrier_type" widget="radio"/>

                                      <field name="carrier_id"  class="oe_inline"
                                            attrs="{'readonly': [('state', '=', 'done')],
                                           'invisible': [('carrier_type','!=', 'company')]}"/>

                                      <field name="vehicle_id" class="oe_inline"
                                               attrs="{'readonly': [('state', '=', 'done')],
                                               'invisible': ['|',('carrier_type','!=', 'company')]}"/>

                                      <field name="vehicle_client" class="oe_inline"
                                               attrs="{'readonly': [('state', '=', 'done')],
                                               'invisible': ['|',('carrier_type','!=', 'client')]}"/>

                                      <field name="driver_client"  class="oe_inline"
                                               attrs="{'readonly': [('state', '=', 'done')],
                                               'invisible': ['|',('carrier_type','!=', 'client')]}"/>
                                  </group>
                                  <group col="2">
                                      <label for="weight" string="Weight"/>
                                      <div>
                                          <field name="weight" class="oe_inline"/>
                                          <field name="weight_uom_id" nolabel="1" class="oe_inline" style="margin-left:5px"/>
                                      </div>
                                      <field name="shipping_weight"/>
                                      <field name="number_of_packages" attrs="{'readonly': [('state', '=', 'done')]}"/>
                                  </group>
                                  <group col="2" name="construction_receives" string="Info Remission On Site">
                                        <field name="in_hour" widget='float_time'/>
                                        <field name="out_hour" widget='float_time'/>
                                        <field name="responsible"/>
                                        <field name="id_number"/>
                                        <field name="job_title"/>
                                  </group>
                                  <group>
                                       <field name="driver_ids" mode="tree"  attrs="{'readonly': [('state', '=', 'done')],
                                            'invisible': ['|',('carrier_type','!=', 'company')]}">
                                             <tree editable="bottom">
                                                 <field name="driver_ids"/>
                                                 <field name="job_title"/>
                                             </tree>
                                      </field>
                                  </group>
                              </group>
                          </page>
                    </xpath>
                </data>
            </field>
        </record>
    </odoo>
